import { ENTITY_TYPE } from "../enum/Entity.js";
import { SPRITE as SPR } from "../enum/Sprite.js";
import { ITEMS } from "./ITEMS.js";

/**
 * Database of monsters
 *
 * Note: the database is used to store the data of the monsters,
 * that will be instantiated with the `Monster` class.
 *
 * @example const monster = new Monster(MOBS.DEFAULT);
 */
//@type {{[key:string]: import("../models/Entity.js").TEntityProps}}
export const MOBS = {
	CAT: {
		id: 1,
		spriteId: SPR.CAT,
		type: ENTITY_TYPE.MONSTER,
		name: "Cat",
		hp: 25,
		hpMax: 25,
		baseExp: 15,
		jobExp: 15,
		atk: 10,
		aspd: 1000,
		range: 20,
		inventory: [
			ITEMS.STONE,
			ITEMS.WOOD,
		],
	},
	ORC: {
		id: 2,
		spriteId: SPR.ORC,
		type: ENTITY_TYPE.MONSTER,
		name: "Orc",
		hp: 35,
		hpMax: 35,
		baseExp: 30,
		jobExp: 30,
		atk: 15,
		aspd: 1000,
		range: 12,
		inventory: [
			ITEMS.KNIFE,
			ITEMS.STONE,
			ITEMS.WOOD,
		],
	},
	PLANKTON: {
		id: 3,
		spriteId: SPR.PLANKTON,
		type: ENTITY_TYPE.MONSTER,
		name: "Plankton",
		hp: 500,
		hpMax: 500,
		baseExp: 200,
		jobExp: 200,
		atk: 25,
		aspd: 1000,
		range: 18,
	},
	ORC2: {
		id: 4,
		spriteId: SPR.ORC2,
		type: ENTITY_TYPE.MONSTER,
		name: "Orc with gloves?",
		hp: 500,
		hpMax: 500,
		baseExp: 200,
		jobExp: 200,
		atk: 25,
		aspd: 1000,
		range: 18,
		inventory: [
			ITEMS.KNIFE,
			ITEMS.SWORD,
			ITEMS.STONE,
			ITEMS.WOOD,
		],
	},
	EYE: {
		id: 5,
		spriteId: SPR.EYE,
		type: ENTITY_TYPE.MONSTER,
		name: "The eye",
		hp: 1000,
		hpMax: 1000,
		baseExp: 800,
		jobExp: 800,
		atk: 60,
		aspd: 1000,
		range: 18,
	},
	LADYBUG: {
		id: 6,
		spriteId: SPR.LADYBUG,
		type: ENTITY_TYPE.MONSTER,
		name: "Ladybug",
		hp: 1000,
		hpMax: 1000,
		baseExp: 800,
		jobExp: 800,
		atk: 60,
		aspd: 1000,
		range: 18,
	},
	SKELETON: {
		id: 7,
		spriteId: SPR.SKELETON,
		type: ENTITY_TYPE.MONSTER,
		name: "Skeleton",
		hp: 5000,
		hpMax: 5000,
		baseExp: 10000,
		jobExp: 10000,
		atk: 160,
		aspd: 1000,
		range: 32,
		w: 60,
		h: 120,
	},
	DINOSAUR: {
		id: 8,
		spriteId: SPR.DINOSAUR,
		type: ENTITY_TYPE.MONSTER,
		name: "Dinosaur",
		hp: 100,
		hpMax: 100,
		baseExp: 50,
		jobExp: 50,
		atk: 30,
		aspd: 1000,
		range: 18,
		inventory: [
			ITEMS.STONE,
			ITEMS.WOOD,
		],
	},
	MUSHROOM: {
		id: 9,
		spriteId: SPR.MUSHROOM,
		type: ENTITY_TYPE.MONSTER,
		name: "Mushroom",
		hp: 90,
		hpMax: 90,
		baseExp: 40,
		jobExp: 40,
		atk: 15,
		aspd: 1000,
		range: 18,
		inventory: [
			ITEMS.STONE,
			ITEMS.WOOD,
		],
	},
	WIND_SPIRIT: {
		id: 10,
		spriteId: SPR.WIND_SPIRIT,
		type: ENTITY_TYPE.MONSTER,
		name: "Wind spirit",
		hp: 150,
		hpMax: 150,
		baseExp: 80,
		jobExp: 80,
		atk: 35,
		aspd: 1000,
		range: 18,
	},
	SLUSHIE: {
		id: 11,
		spriteId: SPR.SLUSHIE,
		type: ENTITY_TYPE.MONSTER,
		name: "Slushie",
		hp: 150,
		hpMax: 150,
		baseExp: 80,
		jobExp: 80,
		atk: 35,
		aspd: 1000,
		range: 18,
		inventory: [
			ITEMS.STONE,
			ITEMS.WOOD,
		],
	},
	RED_MUSHROOM: {
		id: 12,
		spriteId: SPR.RED_MUSHROOM,
		type: ENTITY_TYPE.MONSTER,
		name: "Red mushroom",
		hp: 150,
		hpMax: 150,
		baseExp: 80,
		jobExp: 80,
		atk: 35,
		aspd: 1000,
		range: 18,
		inventory: [
			ITEMS.STONE,
			ITEMS.WOOD,
		],
	},
	LADYBUG2: {
		id: 13,
		spriteId: SPR.LADYBUG2,
		type: ENTITY_TYPE.MONSTER,
		name: "Ladybug 2",
		hp: 150,
		hpMax: 150,
		baseExp: 80,
		jobExp: 80,
		atk: 35,
		aspd: 1000,
		range: 18,
	},
	ROBOT: {
		id: 14,
		spriteId: SPR.ROBOT,
		type: ENTITY_TYPE.MONSTER,
		name: "Robot 1",
		hp: 150,
		hpMax: 150,
		baseExp: 80,
		jobExp: 80,
		atk: 35,
		aspd: 1000,
		range: 18,
	},
	UNICORN: {
		id: 15,
		spriteId: SPR.UNICORN,
		type: ENTITY_TYPE.MONSTER,
		name: "Unicorn",
		hp: 1500,
		hpMax: 1500,
		baseExp: 800,
		jobExp: 800,
		atk: 100,
		aspd: 1000,
		range: 18,
	},
	GHOST: {
		id: 16,
		spriteId: SPR.GHOST,
		type: ENTITY_TYPE.MONSTER,
		name: "Ghost",
		hp: 1500,
		hpMax: 1500,
		baseExp: 800,
		jobExp: 800,
		atk: 100,
		aspd: 1000,
		range: 18,
	},
	SNAKE: {
		id: 17,
		spriteId: SPR.SNAKE,
		type: ENTITY_TYPE.MONSTER,
		name: "Snake",
		hp: 1500,
		hpMax: 1500,
		baseExp: 800,
		jobExp: 800,
		atk: 100,
		aspd: 1000,
		range: 18,
	},
	CAT2: {
		id: 18,
		spriteId: SPR.CAT2,
		type: ENTITY_TYPE.MONSTER,
		name: "Dallas",
		hp: 1500,
		hpMax: 1500,
		baseExp: 800,
		jobExp: 800,
		atk: 100,
		aspd: 1000,
		range: 18,
	},
	DOG: {
		id: 19,
		spriteId: SPR.DOG,
		type: ENTITY_TYPE.MONSTER,
		name: "Santtu",
		hp: 1500,
		hpMax: 1500,
		baseExp: 800,
		jobExp: 800,
		atk: 100,
		aspd: 1000,
		range: 18,
	},
	FROG: {
		id: 20,
		spriteId: SPR.FROG,
		type: ENTITY_TYPE.MONSTER,
		name: "Frog",
		hp: 1500,
		hpMax: 1500,
		baseExp: 800,
		jobExp: 800,
		atk: 100,
		aspd: 1000,
		range: 18,
	},
};

const MOB_KEYS = Object.keys(MOBS)
const MOB_VALUES = Object.values(MOBS)

/**
 * Helper to get a monster by its `id`
 * @param {number} id
 * @param {boolean} useFallback use `MOBS.DEFAULT `as fallback
 * @returns
 */
export const getMobById = (id, useFallback = true) => {
	const mob = MOB_VALUES.find(p => p.id === id)
	if (mob === undefined && useFallback) return MOBS.DEFAULT
	return mob
}
